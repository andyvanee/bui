<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../assets/style.css?t=615badd5">
    <link rel="stylesheet" href="../../style.css?t=0174a9d9">
    <link rel="stylesheet" href="../../bui.css?t=968c6b38">
    <script src="../../assets/script.js?t=42463e55"></script>
    <script src="../../bui.js?t=c71c793b"></script>
    <title>List - Blackstone UI</title>
    <meta name="viewport" content="width=device-width">
  </head>
  <body class="-menu-visible">
    <div class="doc-layout">
      <div class="toggle menu-toggle js-menu-toggle"></div>
      <div class="menu toc-menu">
        <li class="menu-item -level-0 -parent">
          <ul class="submenu">
            <li class="menu-item -level-1"><a class="link title  link-index" href="../../index.html">Blackstone UI</a>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">Components</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><a class="link title  link-elements" href="../../elements/index.html">Elements</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-icons" href="../../icons.html">Icons</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-presentersdialog" href="../../presenters/dialog/index.html">Dialog</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-presentersform-control" href="../../presenters/form-control/index.html">Form Control</a>
                </li>
                <li class="menu-item -level-2"><a class="link title -active link-presenterslist" href="../../presenters/list/index.html">List</a>
                  <ul class="headings heading-list">
                    <li class="heading-item -depth-2"><a class="hlink link-creating-the-list" href="#creating-the-list">Creating the List</a>
                    </li>
                    <li class="heading-item -depth-2"><a class="hlink link-list-row" href="#list-row">List Row</a>
                    </li>
                    <li class="heading-item -depth-2"><a class="hlink link-list-options" href="#list-options">List Options</a>
                    </li>
                    <li class="heading-item -depth-2"><a class="hlink link-filters" href="#filters">Filters</a>
                      <ul class="heading-list -depth-2">
                        <li class="heading-item -depth-3"><a class="hlink link-search" href="#search">Search</a>
                        </li>
                        <li class="heading-item -depth-3"><a class="hlink link-filter-views" href="#filter-views">Filter Views</a>
                        </li>
                      </ul>
                    </li>
                    <li class="heading-item -depth-2"><a class="hlink link-sorts" href="#sorts">Sorts</a>
                      <ul class="heading-list -depth-2">
                        <li class="heading-item -depth-3"><a class="hlink link-sort-defaults" href="#sort-defaults">Sort Defaults</a>
                        </li>
                        <li class="heading-item -depth-3"><a class="hlink link-sorting-on-the-database" href="#sorting-on-the-database">Sorting on the database</a>
                        </li>
                      </ul>
                    </li>
                    <li class="heading-item -depth-2"><a class="hlink link-selection" href="#selection">Selection</a>
                    </li>
                    <li class="heading-item -depth-2"><a class="hlink link-layouts" href="#layouts">Layouts</a>
                    </li>
                    <li class="heading-item -depth-2"><a class="hlink link-other-views" href="#other-views">Other Views</a>
                      <ul class="heading-list -depth-2">
                        <li class="heading-item -depth-3"><a class="hlink link-header" href="#header">Header</a>
                        </li>
                        <li class="heading-item -depth-3"><a class="hlink link-footer" href="#footer">Footer</a>
                        </li>
                        <li class="heading-item -depth-3"><a class="hlink link-empty-(view)" href="#empty-(view)">Empty (view)</a>
                        </li>
                        <li class="heading-item -depth-3"><a class="hlink link-divider" href="#divider">Divider</a>
                        </li>
                        <li class="heading-item -depth-3"><a class="hlink link-export-button" href="#export-button">Export Button</a>
                        </li>
                        <li class="heading-item -depth-3"><a class="hlink link-selection-button" href="#selection-button">Selection Button</a>
                        </li>
                        <li class="heading-item -depth-3"><a class="hlink link-slots" href="#slots">Slots</a>
                        </li>
                      </ul>
                    </li>
                    <li class="heading-item -depth-2"><a class="hlink link-styling" href="#styling">Styling</a>
                      <ul class="heading-list -depth-2">
                        <li class="heading-item -depth-3"><a class="hlink link-css-variables" href="#css-variables">CSS Variables</a>
                        </li>
                        <li class="heading-item -depth-3"><a class="hlink link-parts" href="#parts">Parts</a>
                        </li>
                        <li class="heading-item -depth-3"><a class="hlink link-custom-styles" href="#custom-styles">Custom Styles</a>
                        </li>
                      </ul>
                    </li>
                    <li class="heading-item -depth-2"><a class="hlink link-events" href="#events">Events</a>
                    </li>
                    <li class="heading-item -depth-2"><a class="hlink link-methods" href="#methods">Methods</a>
                    </li>
                  </ul>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-presentersmenu" href="../../presenters/menu/index.html">Menu</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-presenterspanel" href="../../presenters/panel/index.html">Panel</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-presentersnotif" href="../../presenters/notif/index.html">Notif</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-presenterspopover" href="../../presenters/popover/index.html">Popover</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-presenterstabs" href="../../presenters/tabs/index.html">Tabs</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-presentersselection" href="../../presenters/selection/index.html">Selection</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-presentersmentions" href="../../presenters/mentions/index.html">Mentions</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-presenterscal" href="../../presenters/cal/index.html">Calendar</a>
                </li>
              </ul>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">Extras</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><a class="link title  link-colors" href="../../colors.html">Colors</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-util" href="../../util/index.html">Util</a>
                </li>
                <li class="menu-item -level-2 -parent"><a class="link title  link-helpers" href="../../helpers/index.html">Helpers</a>
                  <ul class="submenu">
                    <li class="menu-item -level-3"><a class="link title  link-helpersbackbonerelations" href="../../helpers/backbone/relations/index.html">Backbone.js Relations</a>
                    </li>
                  </ul>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-router" href="../../router/index.html">Router</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-models" href="../../models/index.html">Models (WIP)</a>
                </li>
              </ul>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">Server</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><a class="link title  link-server" href="../../server/index.html">Overview</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-serverrealtime" href="../../server/realtime/index.html">Realtime</a>
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </div>
      <div class="body page-presenterslist">
        <div class="header-nav">
          <div class="right">
          </div>
        </div>
        <div class="markdown-body"><h1 id="list">List</h1>
<p>Display an &#x201C;infinite&#x201D; list of results with a toolbar to sort
and filter the results.</p>
<h2 id="creating-the-list">Creating the List</h2>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">b-list</span>
    <span class="hljs-attr">key</span>=<span class="pl-s">&quot;uniq-key&quot;</span>
    <span class="hljs-attr">row</span>=<span class="pl-s">&quot;row-element-name&quot;</span>
    <span class="hljs-attr">divider</span>=<span class="pl-s">&quot;row-divider-element&quot;</span>
    <span class="hljs-attr">.listOptions</span>=<span class="pl-s">${listOptions}</span>
    <span class="hljs-attr">.customStyles</span>=<span class="pl-s">${css</span>``}
    <span class="hljs-attr">.coll</span>=<span class="pl-s">${this.coll}</span>
    <span class="hljs-attr">.filters</span>=<span class="pl-s">${filters}</span>
    <span class="hljs-attr">.sorts</span>=<span class="pl-s">${sorts}</span>
    @<span class="hljs-attr">content-changed</span>=<span class="pl-s">${this.onContentChange}</span>
&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">b-list</span>&gt;</span>
</code></pre>
<blockquote>
<p><em>NOTE:</em> the list will link itself to the host view as <code>.list</code>
(so long as .list is not already set)</p>
</blockquote>
<h4 id="attributes">Attributes</h4>
<ul>
<li><code>key</code> - used to remember which filters are selected</li>
<li><code>row</code> - the name of the custom element to use for each item</li>
<li><code>divider</code> - optional divider (see below)</li>
<li><code>.coll</code> - a Backbone.Collection to use for fetching data</li>
<li><code>listOptions</code> - change defaults (see below)</li>
</ul>
<h2 id="list-row">List Row</h2>
<p>The custom element listed in the <code>row</code> attribute will have a link
to the <code>b-list</code> element as <code>this.list</code>.</p>
<h2 id="list-options">List Options</h2>
<p>Options passed along to the infinite-list</p>
<pre><code class="lang-js">listOptions = {
    <span class="hljs-attr">fetch</span>: <span class="pl-c1">true</span>, <span class="pl-c">// true,false, &apos;more&apos;</span>
    <span class="hljs-attr">fetchOnLoad</span>: <span class="pl-c1">true</span>,
    <span class="hljs-attr">perPage</span>: <span class="hljs-number">30</span>,
    <span class="hljs-attr">layouts</span>: <span class="pl-c1">null</span> <span class="pl-c">// see below for details</span>
}
</code></pre>
<p><code>fetch:true</code> - will only fetch initial data.<br>
<code>fetch:&apos;more&apos;</code> - will attempt to fetch more data
when all available data has been displayed</p>
<p><code>fetchOnLoad</code> - should data be fetched upon initial load?</p>
<p><code>perPage</code> - how many rows to display at one time.
Also determines how many &#x201C;more&#x201D; rows are requested
via fetch:more</p>
<h2 id="filters">Filters</h2>
<pre><code class="lang-js"><span class="pl-k">const</span> filters = {

    <span class="pl-c">// &quot;search&quot; is a special filter that applies to the search bar</span>
    <span class="hljs-attr">search</span>: {
        data(m){
            <span class="pl-c">// return a hash of attributes to be searched</span>
            <span class="pl-k">return</span> {
                <span class="hljs-attr">title</span>: m.get(<span class="pl-s">&apos;title&apos;</span>),
                <span class="hljs-attr">tags</span>: m.get(<span class="pl-s">&apos;tags&apos;</span>) <span class="pl-c">// value can be an array of strings</span>
            }
        },
        <span class="pl-c">// optional</span>
        <span class="hljs-attr">placeholder</span>: <span class="pl-s">&apos;Search&apos;</span>,
        <span class="hljs-attr">delay</span>: <span class="hljs-number">500</span> <span class="pl-c">// how long of delay in user typing to begin searching?</span>
        <span class="pl-c">//...specify other fuse.js options</span>
    },

    <span class="hljs-attr">type</span>: {
        <span class="hljs-attr">label</span>: <span class="pl-s">&apos;Type&apos;</span>, <span class="pl-c">// the key will be used if no label is set</span>
        <span class="hljs-attr">maxHeight</span>: <span class="pl-s">&apos;60vh&apos;</span>, <span class="pl-c">// max height of dropdown menu</span>
        <span class="hljs-attr">width</span>: <span class="pl-s">&apos;160px&apos;</span>, <span class="pl-c">// exact width of menu</span>
        <span class="hljs-attr">multi</span>: <span class="pl-c1">false</span>, <span class="pl-c">// can more than one value be selected?</span>
        <span class="hljs-attr">db</span>: <span class="pl-c1">false</span>, <span class="pl-c">// true will make the filterBy happen on server instead</span>

        <span class="pl-c">// values are passed to `Menu`, check docs for available options</span>
        <span class="hljs-attr">values</span>: [
            {   <span class="pl-c">// required</span>
                <span class="hljs-attr">label</span>: <span class="pl-s">&apos;All&apos;</span>,
                <span class="hljs-attr">val</span>: <span class="pl-s">&apos;&apos;</span>,
                <span class="pl-c">// optional</span>
                <span class="hljs-attr">toolbarLabel</span>: <span class="pl-s">&apos;all&apos;</span>, <span class="pl-c">// label will be used if this is unset</span>
                <span class="hljs-attr">description</span>: <span class="pl-s">&apos;&apos;</span>,
                <span class="hljs-attr">icon</span>: <span class="pl-s">&apos;&apos;</span>,
                <span class="hljs-attr">clearsAll</span>: <span class="pl-c1">false</span> <span class="pl-c">// never allowed to multi select</span>
            },
            <span class="pl-s">&apos;divider&apos;</span>,
            {<span class="hljs-attr">label</span>: <span class="pl-s">&apos;Type 1&apos;</span>, <span class="hljs-attr">val</span>: <span class="pl-s">&apos;1&apos;</span>},
            {<span class="hljs-attr">label</span>: <span class="pl-s">&apos;Type 2&apos;</span>, <span class="hljs-attr">val</span>: <span class="pl-s">&apos;2&apos;</span>}
        ],
        <span class="pl-c">// a default filter by will be used if none given</span>
        filterBy(model, val, key){
            <span class="pl-k">return</span> model.get(key) == val
        }
    }
    <span class="pl-c">// there are some more advanced filters with &quot;filter views&quot;; see below</span>
}
</code></pre>
<h3 id="search">Search</h3>
<p>Search options are specified as part of filters (see above).</p>
<p><strong>Tips</strong></p>
<ul>
<li>You can hide the search bar by adding: <code>search:false</code>. Search is on by default and will use defautl settings</li>
<li><code>row.model.searchMatches</code> - when the search bar is actively searching, row models will have
a <code>searchMatches</code> property they can check to see why they are being displayed</li>
</ul>
<h3 id="filter-views">Filter Views</h3>
<p>A view can be specified instead of values &#x2013; <code>view</code> can be a preset
or the name of a custom element</p>
<h4 id="presets">Presets</h4>
<ul>
<li><code>date</code></li>
<li><code>slider</code></li>
<li><code>search</code></li>
<li><code>input</code></li>
</ul>
<p>View options can be given to the view with <code>viewOpts</code></p>
<pre><code class="lang-js"><span class="pl-k">const</span> filters = {
    <span class="hljs-attr">timestamp_created</span>: {
        <span class="hljs-attr">label</span>: <span class="pl-s">&apos;Created&apos;</span>,
        <span class="hljs-attr">view</span>: <span class="pl-s">&apos;date&apos;</span>,
        <span class="hljs-attr">db</span>: <span class="pl-c1">true</span>
    },

    <span class="hljs-attr">runtime</span>: {
        <span class="hljs-attr">view</span>: <span class="pl-s">&apos;slider&apos;</span>,
        <span class="hljs-attr">viewOpts</span>: {
            <span class="hljs-attr">range</span>: <span class="pl-c1">true</span>,
            <span class="hljs-attr">max</span>: <span class="hljs-number">50</span>,
            <span class="hljs-attr">suffix</span>: <span class="pl-s">&apos; hrs.&apos;</span>
        }
    },

    <span class="hljs-attr">keywords</span>: {
        <span class="hljs-attr">view</span>: <span class="pl-s">&apos;input&apos;</span>,
        <span class="hljs-attr">viewOpts</span>: {
            <span class="hljs-attr">placeholder</span>: <span class="pl-s">&apos;Keywords...&apos;</span>,
            <span class="hljs-attr">helpText</span>: <span class="pl-s">&apos;Separate with delimited&apos;</span>,
            <span class="hljs-attr">defaultLabel</span>: <span class="pl-s">&apos;-&apos;</span>,
            <span class="hljs-attr">width</span>: <span class="pl-s">&apos;200px&apos;</span>
        }
    }

    <span class="hljs-attr">author</span>: {
        <span class="hljs-attr">view</span>: <span class="pl-s">&apos;search&apos;</span>,
        <span class="hljs-attr">viewOpts</span>: {
            <span class="hljs-attr">url</span>: <span class="pl-s">&apos;/api/search/author?term=&apos;</span>
            parseResult(row){
                <span class="pl-c">// must match `Menu` syntax</span>
                <span class="pl-k">return</span> {<span class="hljs-attr">label</span>: row.name, <span class="hljs-attr">val</span>: row.id}
            },
            <span class="pl-c">// optional</span>
            <span class="hljs-attr">placeholder</span>: <span class="pl-s">&apos;Search&apos;</span>
        }
    }
}
</code></pre>
<h4 id="custom-filter-view">Custom Filter View</h4>
<p>Custom elements need to have a <code>.value</code> and <code>.label</code> getter</p>
<pre><code class="lang-js"><span class="hljs-class"><span class="pl-k">class</span> <span class="pl-ent">CustomFilterView</span> <span class="pl-k">extends</span> <span class="pl-ent">HTMLElement</span> </span>{
    
    firstUpdated(){
        <span class="pl-k">let</span> cachedVal = <span class="pl-k">this</span>.filter.value
    }

    <span class="pl-c">// REQUIRED</span>
    <span class="pl-k">get</span> value(){
        <span class="pl-c">// value to be set as the filter</span>
    }

    <span class="pl-c">// REQUIRED</span>
    <span class="pl-k">get</span> label(){
        <span class="pl-c">// label for the selected value</span>
    }

    <span class="pl-c">// OPTIONAL</span>
    <span class="pl-k">get</span> defaultVal(){
        <span class="pl-c">// when the filters are cleared/reset, what value should be the default?</span>
        <span class="pl-k">return</span> <span class="pl-c1">null</span>
    }

    <span class="pl-c">// OPTIONAL</span>
    <span class="pl-k">set</span> value(val){
        <span class="pl-c">// the view will be opened in a popover and can close </span>
        <span class="pl-c">// by using the magic &apos;close&apos; function (added to view by the filter)</span>
        <span class="pl-c">// closing will apply the filter</span>
        <span class="pl-k">this</span>.close()
    }

    <span class="pl-c">// OPTIONAL</span>
    filterBy(model, val, key){
        <span class="pl-c">// provide logic for how to apply the filter</span>
    }
}
</code></pre>
<h2 id="sorts">Sorts</h2>
<pre><code class="lang-js"><span class="pl-k">const</span> sorts = {
    
    title(m){ <span class="pl-k">return</span> m.get(<span class="pl-s">&apos;title&apos;</span>) },

    <span class="hljs-attr">moreComplex</span>: {
        <span class="hljs-attr">label</span>: <span class="pl-s">&apos;More Complex Sort&apos;</span>,
        <span class="hljs-attr">desc</span>: <span class="pl-c1">true</span>, <span class="pl-c">// change default to descending sort</span>
        <span class="hljs-attr">description</span>: <span class="pl-s">&apos;When the contract was created&apos;</span>,
        sortBy(model){
            <span class="pl-k">return</span> model.moreComplexDataPoint()
        }
    }
}
</code></pre>
<h3 id="sort-defaults">Sort Defaults</h3>
<pre><code class="lang-js"><span class="pl-k">const</span> sorts = {
    <span class="hljs-attr">defaults</span>: [<span class="pl-s">&apos;title&apos;</span>],
    title(m){ <span class="pl-k">return</span> m.get(<span class="pl-s">&apos;title&apos;</span>) }
}
</code></pre>
<h3 id="sorting-on-the-database">Sorting on the database</h3>
<p>If you want the sorting to happen on the database/server instead of
in the browser, add <code>db:true</code>. Changes to sort will trigger refetch
and no sorting will happen in JS</p>
<pre><code class="lang-js"><span class="pl-k">const</span> sorts = {
    <span class="hljs-attr">defaults</span>: [<span class="pl-s">&apos;title&apos;</span>],
    <span class="hljs-attr">db</span>: <span class="pl-c1">true</span>,
    <span class="hljs-attr">title</span>:{}
}
</code></pre>
<h2 id="selection">Selection</h2>
<p>The list includes the <code>selection</code> module. You can turn it on manually or use the <code>&lt;b-list-selection-btn&gt;</code> (see below)</p>
<h4 id="beginend">Begin/End</h4>
<pre><code class="lang-js">list.selection.begin()
list.selection.end()
</code></pre>
<h4 id="results">Results</h4>
<pre><code class="lang-js"><span class="pl-k">let</span> models = list.selection.results.models
<span class="pl-c1">console</span>.log(models.length)
</code></pre>
<h4 id="actions">Actions</h4>
<p>If using selection you&#x2019;ll most likely want to define some &#x201C;actions&#x201D;. Do so by using the <code>actions:left</code> and <code>actions:right</code> slots</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">b-list</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">b-list-selection-btn</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">b-list-selection-btn</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">b-btn</span> <span class="hljs-attr">slot</span>=<span class="pl-s">&quot;actions:left&quot;</span> @<span class="hljs-attr">click</span>=<span class="pl-s">${this.moveSelected}</span>&gt;</span>Move<span class="hljs-tag">&lt;/<span class="hljs-name">b-btn</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">b-btn</span> <span class="hljs-attr">slot</span>=<span class="pl-s">&quot;actions:left&quot;</span> @<span class="hljs-attr">click</span>=<span class="pl-s">${this.deleteSelected}</span>&gt;</span>Delete<span class="hljs-tag">&lt;/<span class="hljs-name">b-btn</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">b-list-export-btn</span> <span class="hljs-attr">slot</span>=<span class="pl-s">&quot;actions:right&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">b-list-export-btn</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">b-list</span>&gt;</span>
</code></pre>
<h2 id="layouts">Layouts</h2>
<p>Renders a button in toolbar for toggling between different list layouts (e.g. list, grid)</p>
<pre><code class="lang-js">listOptions = {
    <span class="hljs-attr">layouts</span>: {
        <span class="pl-c">// name: &apos;icon-name&apos;</span>
        <span class="hljs-attr">list</span>: <span class="pl-s">&apos;th-thumb&apos;</span>
        <span class="hljs-attr">grid</span>: <span class="pl-s">&apos;menu&apos;</span>,
    }
}
</code></pre>
<p>Active layout can be accessed on the <code>b-list</code> element</p>
<pre><code class="lang-js"><span class="pl-c">// alias to list.layouts.active</span>
list.layout <span class="pl-c">// name of active layout (&apos;list&apos;)</span>
list.layout = <span class="pl-s">&apos;grid&apos;</span> <span class="pl-c">// change layout</span>

<span class="pl-c">// layouts object</span>
list.layouts

<span class="pl-c">// go to next layout</span>
list.layouts.next()
</code></pre>
<h4 id="change-event">Change Event</h4>
<p>The toolbar button and list will react to the layouts change, but
if you need to react to the change somewhere else, you can watch
for the change event</p>
<pre><code class="lang-js">list.layouts.on(<span class="pl-s">&apos;change&apos;</span>, layout=&gt;{
    <span class="pl-c1">console</span>.log(layout)
})
</code></pre>
<h2 id="other-views">Other Views</h2>
<h3 id="header">Header</h3>
<p>A list header can be rendered between the toolbar and the list items.</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">b-list</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">slot</span>=<span class="pl-s">&quot;header&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">b-list</span>&gt;</span>
</code></pre>
<h3 id="footer">Footer</h3>
<p>A list footer can be displayed at the bottom of the list</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">b-list</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">slot</span>=<span class="pl-s">&quot;footer&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">b-list</span>&gt;</span>
</code></pre>
<h3 id="empty-(view)">Empty (view)</h3>
<p>A default &#x201C;empty&#x201D; view will used when no results. You can choose to use your own with custom info and actions</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">b-list</span> <span class="hljs-attr">empty</span>=<span class="pl-s">&quot;my-empty-view&quot;</span>&gt;</span>
</code></pre>
<p>The empty view will have a reference to <code>.list</code> and <code>.dataSource</code>. Also, <code>.value</code> will be set which will
hold the text that the list thinks should be displayed (it&#x2019;s up to you to display it).</p>
<h3 id="divider">Divider</h3>
<p>A divider can be added to the list.</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">b-list</span> <span class="hljs-attr">divider</span>=<span class="pl-s">&quot;my-divider-elment&quot;</span>&gt;</span>
</code></pre>
<p>The divider element must implement a static <code>shouldDisplay</code> method</p>
<pre><code class="lang-js"><span class="hljs-class"><span class="pl-k">class</span> <span class="pl-ent">DividerElement</span> <span class="pl-k">extends</span> <span class="pl-ent">HTMLElement</span> </span>{

    <span class="pl-k">static</span> shouldDisplay(prevModel, model, list){
        <span class="pl-k">return</span> !prevModel || prevModel != model
    }

}
</code></pre>
<blockquote>
<p>Note: <code>.list</code>, <code>.model</code>, and <code>.prevModel</code> properties are accessible via the render method</p>
</blockquote>
<h3 id="export-button">Export Button</h3>
<p>Renders a button in the toolbar next to the refresh button to export the data in the list. Data models can implement <code>toCSV</code> to alter the exported data.
The CSV will include the list <code>key</code> and active filters in the top of the file</p>
<pre><code class="lang-js">import &apos;bui/presenters/list/export-btn`
</code></pre>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">b-list</span> <span class="hljs-attr">key</span>=<span class="pl-s">&quot;my-list&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">b-list-export-btn</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">b-list-export-btn</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">b-list</span>&gt;</span>
</code></pre>
<h3 id="selection-button">Selection Button</h3>
<p>Shows a &#x201C;select&#x201D; icon button next to the list count. Will turn on list selection when clicked.
If you dont also provide an export button or some actions, this will not be of any use.</p>
<pre><code class="lang-js">import &apos;bui/presenters/list/selection-btn`
</code></pre>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">b-list</span> <span class="hljs-attr">key</span>=<span class="pl-s">&quot;my-list&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">b-list-selection-btn</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">b-list-selection-btn</span>&gt;</span>

    <span class="pl-c">&lt;!-- <span class="hljs-doctag">note:</span> add this if you want selected rows to be exportable --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">b-list-export-btn</span> <span class="hljs-attr">slot</span>=<span class="pl-s">&quot;actions:right&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">b-list-export-btn</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">b-list</span>&gt;</span>
</code></pre>
<h3 id="slots">Slots</h3>
<p>The default list view can be extended with html slots</p>
<ul>
<li><code>spinner</code> - if you want to use a different spinner</li>
<li><code>toolbar:before</code></li>
<li><code>toolbar:after</code></li>
<li><code>toolbar:refresh</code> - your own refresh button (or to remove default)</li>
<li><code>header</code></li>
<li><code>footer</code></li>
<li><code>actions:left</code> - displayed when selection is on</li>
<li><code>actions:right</code></li>
</ul>
<h2 id="styling">Styling</h2>
<h3 id="css-variables">CSS Variables</h3>
<blockquote>
<p>Needs documentation</p>
</blockquote>
<ul>
<li><code>--list-toolbar-shadow</code></li>
</ul>
<h3 id="parts">Parts</h3>
<p>Certain <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/::part">parts</a> can be styled:</p>
<ul>
<li><code>toolbar</code></li>
<li><code>selectionbar</code></li>
<li><code>list</code></li>
<li><code>row</code></li>
<li><code>divider</code></li>
<li><code>empty-view</code></li>
</ul>
<pre><code class="lang-css"><span class="pl-c">/* example */</span>
<span class="hljs-selector-tag">b-list</span><span class="hljs-selector-pseudo">::part(toolbar)</span> {
    <span class="pl-e">background</span>: black;
    <span class="pl-e">color</span>: white;
}

<span class="hljs-selector-tag">b-list</span><span class="hljs-selector-attr">[layout=<span class="pl-s">&quot;grid&quot;</span>]</span><span class="hljs-selector-pseudo">::part(list)</span> {
    <span class="pl-e">display</span>: grid;
    <span class="pl-e">grid-template-columns</span>: <span class="pl-c1">repeat</span>( auto-fit, minmax(<span class="hljs-number">140px</span>, <span class="hljs-number">1</span>fr) );
    <span class="pl-e">grid-template-rows</span>: <span class="hljs-number">140px</span>;
    <span class="pl-e">gap</span>: <span class="hljs-number">1em</span>;
}
</code></pre>
<h3 id="custom-styles">Custom Styles</h3>
<p>The list view uses shadow dom to render the content. If you need to apply
custom styles (ex: to make results display as a grid) you can provide
a <code>.customStyles</code> prop</p>
<blockquote>
<p>NOTE: using <code>parts</code> is preferred now</p>
</blockquote>
<pre><code class="lang-css">let styles = css`
    :host b-infinite-list {
        display: grid;
        grid-template-columns: repeat( auto-fit, minmax(140px, 1fr) );
        grid-template-rows: 140px;
        gap: 1em;
    }

    :host b-infinite-list[layout=&quot;list&quot;] {
        /* 
            apply different styles for each layout 
            see &quot;layout&quot; options below
        */
    }

`
&lt;b-list .customStyles=${styles}&gt;&lt;/b-list&gt;
</code></pre>
<h2 id="events">Events</h2>
<p>Filters and Sorts emit events when changed:</p>
<pre><code class="lang-js">list.filters.on(<span class="pl-s">&apos;change&apos;</span>, changes=&gt;{})
list.sorts.on(<span class="pl-s">&apos;change&apos;</span>, selectedSorts=&gt;{})
list.dataSource.on(<span class="pl-s">&apos;changed&apos;</span>, ()=&gt;{})
</code></pre>
<p>The list dispatches a DOM event when the content changes (this would happen when applied filters change, sort changes, or content is fetched from the server)</p>
<pre><code>list.addEventListener(&apos;content-changed&apos;, e=&gt;{})
</code></pre>
<h2 id="methods">Methods</h2>
<p><code>list.refresh()</code><br>
clears the list and fetches new data</p>
<p><code>list.reload()</code><br>
reapplies the filters and reloads the table (new data is NOT fetched)</p>
<p><code>list.filters.reset(filterVals={})</code><br>
reset filters to default or given values</p>
<p><code>list.filters.update(filterVals)</code><br>
applies the given filters</p>

        </div>
        <div class="footer-nav">
          <div class="left"><a href="../../presenters/form-control/index.html"><span class="title">Form Control</span></a></div>
          <div class="right"><a href="../../presenters/menu/index.html"><span class="label">Next: </span><span class="title">Menu</span></a></div>
        </div>
      </div>
    </div>
  </body>
</html>